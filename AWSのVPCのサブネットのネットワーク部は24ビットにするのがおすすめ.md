#aws #vpc
# AWSのVPCのサブネットのネットワーク部は、24ビットにするのがおすすめ

理由

- 十分な数のIPアドレスを使用することができるから
  - 約250個（最初と最後のほうはAWSで予約済みのため）
- IPアドレスは8ビット区切りなので、8の倍数だと分かりやすいから
- 前提として、AWSの制約でサブネットのネットワーク部は16~28ビットにする必要がある

また、それに合わせてVPCのネットワーク部の長さも決める。

例えばVPCのネットワーク部を21ビットにしたとする（CIDR表記は`10.0.0.0/21`だったとする）。この場合、使えるIPアドレスは、`10.0.0.0`〜`10.0.7.255`までである。このVPCを、ネットワーク部が24ビットのサブネットに分けると、

- `10.0.0.0/24`
- `10.0.1.0/24`
- ...
- `10.0.7.0/24`

の8つのサブネットが使えることになる。4つで十分な場合はVPCのネットワーク部を22ビットにすればよいし、8つ以上必要な場合はネットワーク部を20ビットにすればよい。