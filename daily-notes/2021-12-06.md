# 2021-12-06

## 午後

17:09 プロジェクト進捗画面の仕様を考えています

画面設計書、何で作るのがいいか問題（Figmaを使いたいけど、まだ使いこなせない）
コードで書くほうが早い気がしている（草）

14:29 プロジェクト進捗管理画面の作成の開始

前書いたメモを消してしまったので（ええ...）、仕様を思い出します

- 見積書が複数ある場合は見積書は複数表示する
  - そのとき、プロジェクトIDはrowspanでつなぐ
- 仕入れ情報については、件数を表示する
  - 未入力の場合→未入力
  - 入力済みの場合→入力済み（X件）
  - これもプロジェクトIDと同じように、rowspanでつなぐ

14:17 PRを作成したので、今日の終わりに投げようと思います

## 午前

9:07 プロジェクト収支一覧の実装

担当者の名前を取得し忘れていたため、取得する（リレーション使えるならリソースで取るだけですが）。

9:56 クエリ全体にJOINする方法がわからない

`query = "select * from table"`のときに、`query2 = select * from (query) as _ join (joinしたいテーブル）`というようなクエリを作りたい。

これが参考になった。クエリビルダの練習帳を作りたいなぁ〜。クエリビルダは使い回そうとすると地獄を見る気がする（もとのクエリの形が分からないので）。できるだけ、生のSQLと同じ構造のままにしておくのが良いかもしれない。

[from句のサブクエリ – ララジャパン](https://www.larajapan.com/2021/08/03/from%E5%8F%A5%E3%81%AE%E3%82%B5%E3%83%96%E3%82%AF%E3%82%A8%E3%83%AA/)

10:35 Vueのフィルターを変数で使う方法が分からない

11:04 内訳の表示のアイコンが分かりにくいので、変えようとしている

`>`アイコンを非表示にする & 内訳の文字を表示する。

11:44 PRの作成

仕入れ情報のCRUD処理がまだなので、作成します。

12:13 自作のテーブルコンポーネントで、編集が出来るようにする

Vuetiryは動的スロットという機能を使って作成しているみたい。[データテーブル・コンポーネント — Vuetify](https://vuetifyjs.com/ja/components/data-tables/#item)

[[Vueのスロットを使ってテーブルコンポーネントを実装する]]
