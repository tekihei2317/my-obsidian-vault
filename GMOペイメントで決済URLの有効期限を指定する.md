# GMOペイメントで決済URLの有効期限を指定する

外部の決済サイトを利用していて決済の人数制限をしたい場合、先に枠を埋めて決済のURLの有効期限が切れたときに枠を戻す必要がある。

GMOペイメントで決済の有効期限を指定する場合には、以下の2つのパラメータを使用する。
[GMOペイメントの決済URLの取得で指定するパラメータ](GMOペイメントの決済URLの取得で指定するパラメータ.md)

- `transaction.ExpireDays`
	- `取引有効日数`
	- （引用）0を指定した場合は当日中、１を指定した場合は翌日中、省略時は無期限と扱われます。
- `transaction.PaymentExpireDate`
	- `決済可能期限`
	- 日時で指定する（yyyymmddhhMM形式）
	- （例）「202006162359」を設定した場合、2020年6月17日0時以降は決済画面表示時にエラー

ドキュメントの最後のほうにあるページが分かりやすかったので、以下に画像を貼り付けた。

例えば30分で期限切れにしたい場合は、`決済可能期限`を、決済URLを取得するときの現在時刻の30分後に指定すればよい。

![](https://i.gyazo.com/39c7678e8f2135c09878d3545b93ad8e.png)
