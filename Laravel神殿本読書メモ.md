#laravel #アーキテクチャ
# Laravel神殿本読書メモ

## 3章

- MVCの問題点
  - MVCのモデルは、ドメインロジックとDBアクセスの両方を含むことになるので肥大化する
  - コントローラーが肥大化するケースもある
- MVCの発展型
  - トランザクションスクリプト
    - コントローラーに書いていた手続き的な処理を、クラスに切り出す
    - →似たような処理が複数のクラスに散らばってしまうと思う
  - ドメインモデル
- ADR
  - コントローラーをシングルアクションにするだけ
    - Responder的なものはMVCでも使っていたので（LaravelのAPIリソース）
    - シングルアクションにすることのメリットは、アクションごとに必要な依存を書けること？
      - このクラスは一覧だけで使っているけど他のアクションでは使ってないから無駄だよね、みたいな感じ
  - シングルアクションにするかどうかというより、色々なアクションを一つのコントローラーに詰めすぎないことが重要（コントローラーを適切に分割する）
    - [DHHはどのようにRailsのコントローラを書くのか | POSTD](https://postd.cc/how-dhh-organizes-his-rails-controllers/)
- レイヤードアーキテクチャ
  - リポジトリパターンはレイヤードアーキテクチャ出身の概念？
  - データベースへの依存を、インターフェイスを使って軽減したりする
