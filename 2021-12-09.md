# 2021-12-09

## 請求書検索の実装

17:00 APIリソースにページネーションのデータ返したいけど分からなくて死んでいる

なんか適当にやった...。APIリソースにページネーターを渡した場合は処理が分岐しているっぽいです。`items`と`linkCollection`でそれぞれ要素とページを表す配列が取得できるので、それを返却するようにしました。`data`プロパティでラップされているのが気になる...。

15:50 YYYY-MM-DDからCarbonのインスタンスを作りたい

リレーション先で検索するやついつもどうするか迷う。`JOIN`するか`whereRelation`を使うかのどちらか。`JOIN`するとカラム名の衝突が怖いので、`whereRelation`を使うことにしました。

15:10 PHPのassertってどういうものだったっけ

開発環境でfalsyなときに例外投げてくれるやつかな

## 請求書一覧の実装

12:24 APIリソースでレスポンスを返すまでを追いたくなった

コントローラーでreturnしなかったときにどういうレスポンスが返るのかが気になった。

10:28 コンポーネントは機能ごとに分かれているほうが移植しやすい

動作を確認しながら実装していきたいので、機能ごとに別れているとうれしい。コンポーネントに分割していたり、Composition Functionに分割しているとやりやすい。分割されていると、不可能なことがわかるため（使用される側から使用する側にアクセスすることができないこと）

↑書きながらだと分かるけど、後からみたときに流れが分からない

10:07 GraphQLのメリットに少し気がついた

クライアントに必要な情報に応じてバックエンドで値を返すより、全部返してクライアントから必要な情報を選択出来るほうがやりやすいと感じた（クライアントで必要な情報を考えつつAPIリソースを書いていてそう思った）。