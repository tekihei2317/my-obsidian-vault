# 「ドメインをモデリングして PHP コードに落とし込む」を発表しました

リンク: [「ドメインをモデリングして PHP コードに落とし込む」を発表しました / PHP カンファレンス 2021 - Shin x Blog](https://blog.shin1x1.com/entry/phpcon2021-domain-modeling-with-php)

- DDDのパターンをなぜ使用するのかを理解することが重要
	- DDDの用語を使わずに説明することで、本質を理解できる
- 用語集を作ることは、プロジェクトメンバーの間で共通概念を作る第一歩になる
- UMLは、概念を整理したり表現するために気軽に使える、便利なツール
- 日本語プログラミングをプロダクションで使用しているチームもある
	- メンバー構成次第ではあるが、かなり分かりやすいみたい

## リポジトリを読んだ感想

- InvariantExceptionというクラスはどういうときに使う？
	- コンストラクタで不正なときに投げている例外
	- InvaridExceptionの間違い？
- 日付について
	- 外側から今日の日付を渡すようにしている
		- こっちのほうが依存が減るからいいのかな（テストもやりやすい）
- 予約接種日テストのDataProviderの使い方が勉強になる
	- yieldを使っている（イテレーター）
		- 配列でもOK
- 接種者クラスで事前条件をassertで表現している
	- 例外ではなくassertなのは、実装者が使い方を間違えたときにしか起こらないから？
- 気づいたこと
	- DateクラスのgreaterThanにtypoがある

## 感想

- どのようにコーディングしていけばよかったか
	- まず、システムの概要を把握する（ユースケース図など）
	- 次に、用語と、用語同士の関係を定義する（ドメインモデルを作る）
	- 次に、ユースケースを書く（ドメインクラスを使う）
		- ユースケースには基本コースと代替コースの療法を書く
	- 次に、必要に応じて図を書きつつコードを書く
