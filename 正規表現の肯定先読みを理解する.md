# 正規表現の肯定先読みを理解する

正規表現の先読み・後読みは、`^`や`$`と同じように文字の位置（アンカー、カーソル）を表す。`(?=pattern)`は、`pattern`に最初にマッチしたところの左端の位置を表す。

`pry`（RubyのREPL）で試した例。`(?=.*[a-z])`が先頭のaの前、`(?=.*[b])`が4文字目のbの前にマッチしていることが分かる。

```bash
> regex = /^(?=.*[a-z])(.{5,})(?=.*[b])(.+)$/
=> /^(?=.*[a-z])(.{5,})(?=.*[b])(.+)$/
> 'aaabbbbcc'.match(regex)
=> #<MatchData "aaabbbbcc" 1:"aaabbb" 2:"bcc">
```

この正規表現の意味は、「アルファベットを含んでおり、（含んでいる場合は）先頭から5文字以上の任意の文字列があり、その後ろにbがあり、...?」

~~よく分かっていないが「〜を含む」「〜を含まない」の表現くらいでしか使わないと思うので、そのときコピペすればよいと思う~~

## 参考

- [正規表現の先読み・後読みを極める！ - あらびき日記](https://abicky.net/2010/05/30/135112/)