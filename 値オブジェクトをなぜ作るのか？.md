# 値オブジェクトをなぜ作るのか？

値オブジェクトをなぜ作るメリットは2つあります。

1つ目は**バリデーション**が行えることです。例えば、「IDは10桁の数字である」という条件があったとすると、以下のようにすることでインスタンスが常に条件を満たすことが保証できます。

```php
// コンストラクタでバリデーションしている
public function __construct(private string $code)
{
    if (!preg_match('/\A[0-9]{10}\z/', $code)) {
        throw new InvalidException;
    }
}
```

2つ目は**受け渡すときのミス**が減ることです。プリミティブで受け渡していると、引数の数が増えたときにミスしても気が付かないことがあります。値オブジェクトを作るとそれを防ぐことができます。

> これはキーワード引数でも防げるのであまりメリットとはいえないかも。メソッドでの受け渡しのミスだけでなく、代入のときのミスも防げる。

---

[現場で役立つシステム設計の原則](learnings/現場で役立つシステム設計の原則.md)には、プリミティブだと商品の値段が負の値になったり、商品の個数が1億個になったりするのでおかしいからということが書かれていました。これはバリデーションに通じます。

TODO: [ドメイン駆動設計入門](learnings/ドメイン駆動設計入門.md)に書かれていた「表現力が増す」ことについて書き加える

値オブジェクトを作るべきかどうか？の基準は、まだ分かっていないです。→[ドメイン駆動設計入門](learnings/ドメイン駆動設計入門.md)に書かれていました。
